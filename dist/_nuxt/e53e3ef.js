(window.webpackJsonp=window.webpackJsonp||[]).push([[5,6,7,8],{282:function(t,n,e){"use strict";e.r(n);n.default="\nattribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_ratio;\nuniform float u_scale;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\n\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},283:function(t,n,e){"use strict";e.r(n);n.default="\nprecision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\nconst float halfRadius = 0.35;\n\nvoid main(void) {\n  vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n  vec4 white = vec4(1.0, 1.0, 1.0, 1.0);\n  vec4 blue = vec4(0.125,0.506,0.886, 1.0);\n  float distToCenter = length(gl_PointCoord - vec2(0.5, 0.5));\n\n  float t = 0.0;\n  if (distToCenter < halfRadius - v_border)\n    gl_FragColor = white;\n  else if (distToCenter < halfRadius)\n    gl_FragColor = mix(v_color, blue, (halfRadius - distToCenter) / v_border);\n  else if (distToCenter < radius - v_border)\n    gl_FragColor = v_color;\n  else if (distToCenter < radius)\n    gl_FragColor = mix(transparent, v_color, (radius - distToCenter) / v_border);\n  else\n    gl_FragColor = transparent;\n}\n"},286:function(t,n,e){var content=e(292);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(50).default)("e50169e0",content,!0,{sourceMap:!1})},288:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return x}));e(11),e(289);var o=e(132),r=e(133),l=e(293),c=e(294),f=e(290),d=e(280),h=(e(281),e(284)),m=(e(285),e(282)),v=e(283);function _(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,o=Object(f.a)(t);if(n){var r=Object(f.a)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return Object(c.a)(this,e)}}var x=function(t){Object(l.a)(e,t);var n=_(e);function e(t){var r;return Object(o.a)(this,e),(r=n.call(this,t,m.default,v.default,1,4)).bind(),r}return Object(r.a)(e,[{key:"process",value:function(data,t,n){var e=this.array,i=1*n*4;if(t)return e[i++]=0,e[i++]=0,e[i++]=0,void(e[i++]=0);var o=Object(d.floatColor)(data.color);e[i++]=data.x,e[i++]=data.y,e[i++]=data.size,e[i]=o}},{key:"render",value:function(t){var n=this.gl,e=this.program;n.useProgram(e),n.uniform1f(this.ratioLocation,1/Math.sqrt(t.ratio)),n.uniform1f(this.scaleLocation,t.scalingRatio),n.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),n.drawArrays(n.POINTS,0,this.array.length/4)}}]),e}(h.AbstractNodeProgram)},291:function(t,n,e){"use strict";e(286)},292:function(t,n,e){var o=e(49)(!1);o.push([t.i,'.close-panel{display:block;position:absolute;top:10px;right:10px;cursor:pointer;width:20px}@font-face{font-family:newLine;src:url(/fonts/Newline-TextBlack);font-weight:700}.cta-btn{margin-top:15px;background-color:#ff2d55;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;border-radius:5px}#__layout,#__nuxt,body,html{height:100%;padding:0;margin:0}.info-panel{font-family:"newLine",Fallback,sans-serif;box-shadow:0 0 4px 0 #000;background-color:hsla(0,0%,100%,.9);z-index:1;width:35%;height:100%;position:absolute}.info-panel .header{padding:30px;min-height:300px;background-size:cover;background-position:50%;background-repeat:no-repeat}.info-panel .header h1,.info-panel .header h2{display:inline-block;background-color:hsla(0,0%,100%,.5);padding:20px;margin-bottom:15px;margin-top:0}.info-panel .content-body{position:relative;padding-left:30px;padding-right:35px;padding-top:20px}.info-panel .content-body h1{margin-bottom:5px;margin-top:0}.info-panel .content-body h2{margin-top:10px}.info-panel .content-body .token-gated svg{width:30px}.info-panel .pill{background-color:#f1f1f1;padding:10px;margin-right:10px;display:inline-block;border-radius:20px}#sigma-container,.network-graph-wrap{width:100%;height:100%}',""]),t.exports=o},310:function(t,n,e){"use strict";e.r(n);var o=e(10),r=(e(63),e(51),e(295),e(11),e(31),e(296)),l=e.n(r),c=e(297),f=e.n(c),d=e(307),h=e.n(d),m=e(288),v=e(308),_=e.n(v),x=e(74),w=e.n(x),y={data:function(){return{tree:{},map:{},graph:new l.a,renderer:null,drag:!1,infoPanel:null}},computed:{nodeList:function(){return this.map?Object.values(this.map):{}},edgeList:function(){var t=[];return this.nodeList.forEach((function(n,e){var o=n.id;n.portals.length&&n.portals.forEach((function(n,e){var r={from:o,to:n};t.push(r)}))})),t}},watch:{edgeList:function(data){this.initializeGraph()},infoPanel:function(data){var t=this;data?this.graph.nodes().forEach((function(n){n===data.id?t.graph._nodes.get(data.id).attributes.size=50:t.graph._nodes.get(n).attributes.size=15})):this.graph.nodes().forEach((function(n){t.graph._nodes.get(n).attributes.size=15}))}},methods:{getRandomInt:function(t){return Math.floor(Math.random()*t)},focusNode:function(t,n,e){var o=t.getCamera().getBoundedRatio(.4),r=t.getNodeDisplayData(this.infoPanel.id);t.getCamera().animate({x:r.x-.1,y:r.y,ratio:o},{duration:500})},setInfoPanel:function(t){this.infoPanel=null,this.infoPanel=this.map[t]},clearInfoPanel:function(){this.infoPanel=null},dragStage:function(t){console.log("We Dragging the stage!!!!"),console.log(t)},getMap:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var e,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.getAuthToken();case 3:return e=n.sent,o={headers:{Authorization:"Bearer ".concat(e.data.token),"Content-Type":"application/json"}},n.next=7,w.a.get("https://api.mona.gallery/spaces/FET6LyfYKYgY/map?max=100",o);case 7:r=n.sent,t.map=r.data,n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:return n.abrupt("return",t.map);case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))()},getAuthToken:function(){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,body,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},body={clientId:"728iwRLx0TFp",clientSecret:"NTMTDGFRZBmPrjUf"},t.next=4,w.a.post("https://api.mona.gallery/oauth",body,n);case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))()},initializeGraph:function(){var t=this,n=["https://storage.googleapis.com/img-gorillaisms/6809a593.jpeg","https://storage.googleapis.com/img-gorillaisms/5c9b3a3b.jpeg","https://storage.googleapis.com/img-gorillaisms/536a14c7.jpeg","https://storage.googleapis.com/img-gorillaisms/41ab7f5b.jpeg","https://storage.googleapis.com/img-gorillaisms/96e828f5.jpeg","https://dummyimage.com/400/000/fff"];this.nodeList.forEach((function(e){var o=t.map[e.id];t.graph.addNode(o.id,{size:20,label:o.title,type:"image",image:n[t.getRandomInt(n.length-1)],color:"#2081E2"})})),this.edgeList.forEach((function(n){t.graph.addEdge(n.from,n.to,{type:"arrow",label:"",size:3})})),this.graph.nodes().forEach((function(n,i){var e=2*i*Math.PI/t.graph.order;t.graph.setNodeAttribute(n,"x",100*Math.cos(e)),t.graph.setNodeAttribute(n,"y",100*Math.sin(e))}));var e=this.$refs.sigmaContainer,o=new f.a(this.graph,e,{nodeProgramClasses:{image:h()(),border:m.default},minCameraRatio:.1,maxCameraRatio:1.5,minArrowSize:20});this.renderer=o,o.getMouseCaptor().on("mousemovebody",(function(n){t.drag&&(t.dragStage(n),console.log(o.camera))})),console.log(o.utils),o.getMouseCaptor().on("mousedown",(function(){t.drag=!0,console.log("hello world from mouseDown")})),o.on("enterNode",(function(t){t.node;console.log("do nothing")})),o.on("leaveNode",(function(){console.log("still do nothing. ")})),o.getMouseCaptor().on("mouseup",(function(){t.drag=!1,console.log("hello world from mouseUp")})),o.on("clickNode",(function(n){var r=t.map[n.node];t.infoPanel=r;var l={x:n.event.x,y:n.event.y};t.focusNode(o,l,e)})),o.on("clickStage",(function(t){console.log(t),console.log(t.isDragging)})),new _.a(this.graph).start()}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.getMap();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()}},C=(e(291),e(52)),component=Object(C.a)(y,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"network-graph-wrap"},[t.infoPanel?e("div",{staticClass:"info-panel"},[e("div",{staticClass:"header",style:"background-image:url("+t.infoPanel.image+");"}),t._v(" "),e("div",{staticClass:"content-body"},[e("span",{staticClass:"close-panel",on:{click:function(n){return t.clearInfoPanel()}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[e("path",{attrs:{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"}})])]),t._v(" "),e("h1",[t._v(t._s(t.infoPanel.title)+" \n          "),t.infoPanel.gating?e("span",{staticClass:"token-gated"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[e("path",{attrs:{d:"M80 192V144C80 64.47 144.5 0 224 0C303.5 0 368 64.47 368 144V192H384C419.3 192 448 220.7 448 256V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V256C0 220.7 28.65 192 64 192H80zM144 192H304V144C304 99.82 268.2 64 224 64C179.8 64 144 99.82 144 144V192z"}})])]):t._e()]),t._v(" "),e("h2",[t._v(t._s(t.infoPanel.artist))]),t._v(" "),e("p",[t._v(t._s(t.infoPanel.description))]),t._v(" "),e("div",{staticClass:"themes"},t._l(t.infoPanel.themes,(function(n){return e("span",{key:n,staticClass:"pill"},[t._v(t._s(n))])})),0),t._v(" "),e("a",{staticClass:"cta-btn",attrs:{href:"https://mona.gallery/spaces/"+t.infoPanel.id,target:"_blank"}},[t._v("Enter Space")])])]):t._e(),t._v(" "),e("div",{ref:"sigmaContainer",staticStyle:{width:"100%"},attrs:{id:"sigma-container"}})])}),[],!1,null,null,null);n.default=component.exports}}]);